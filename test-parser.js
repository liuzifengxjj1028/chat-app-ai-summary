// æµ‹è¯•æ–‡æœ¬è§£æå™¨
const testText = `Bud 2025å¹´9æœˆ23æ—¥ 15:23
å°½å¿«å“ˆ
å¯å¤§åŠ›
@Bud(åˆ©æŒ‡å¯¼)
2025å¹´9æœˆ23æ—¥ 15:41
æœ‰æ—¶é—´å—ï¼Ÿå¯¹ä¸€ä¸‹è¿™ä¸ªå’Œç©ºé—´è¿™ä¸¤ä¸ªäº‹æƒ…
Bud 2025å¹´9æœˆ23æ—¥ 15:45
@å¯å¤§åŠ›
å¯ä»¥
å¯å¤§åŠ›
2025å¹´9æœˆ23æ—¥ 15:45
[è§†é¢‘ä¼šè®®é‚€è¯·]Tokyoäº§å“éƒ¨çš„è§†é¢‘ä¼šè®®
Bud 2025å¹´9æœˆ23æ—¥ 16:06
ç©ºé—´å…ˆè§£å†³çš„åŸºç¡€é—®é¢˜æ˜¯ï¼šç®¡ç†è€…çš„éšèº«çœ‹å’Œç°èº«è¯´
Bud 2025å¹´9æœˆ23æ—¥ 16:07
åœ¨æ­¤åŸºç¡€ä¸Šæ‰æ˜¯å¦‚ä½•é«˜æ•ˆç‡çš„æ‰¾`;

console.log('=== æµ‹è¯•æ–‡æœ¬ ===');
console.log(testText);
console.log('\n=== åˆ†è¡Œåˆ†æ ===');

const lines = testText.split('\n');
lines.forEach((line, i) => {
  console.log(`ç¬¬${i + 1}è¡Œ: [${line}]`);

  // æ£€æŸ¥æ˜¯å¦åŒ¹é…æ ‡å‡†æ ¼å¼
  const headerMatch = line.match(/^(.+?)\s+(\d{4})å¹´(\d{1,2})æœˆ(\d{1,2})æ—¥\s+(\d{1,2}):(\d{2})$/);
  if (headerMatch) {
    console.log(`  âœ… æ ‡å‡†æ ¼å¼ - ç”¨æˆ·å: "${headerMatch[1]}"`);
  }

  // æ£€æŸ¥æ˜¯å¦åªæœ‰æ—¥æœŸæ—¶é—´
  const dateMatch = line.match(/^(\d{4})å¹´(\d{1,2})æœˆ(\d{1,2})æ—¥\s+(\d{1,2}):(\d{2})$/);
  if (dateMatch) {
    console.log(`  ğŸ“… åªæœ‰æ—¥æœŸæ—¶é—´`);
  }
});

console.log('\n=== æ£€æŸ¥ç‰¹æ®Šæ ¼å¼ ===');
// æ£€æŸ¥ "å¯å¤§åŠ›" è¿™ä¸ªæ¡ˆä¾‹
console.log('æ£€æŸ¥ç´¢å¼• 2-4:');
console.log(`  ç¬¬3è¡Œ: [${lines[2]}]`);
console.log(`  ç¬¬4è¡Œ: [${lines[3]}]`);
console.log(`  ç¬¬5è¡Œ: [${lines[4]}]`);

const dateMatch2 = lines[3].trim().match(/^(\d{4})å¹´(\d{1,2})æœˆ(\d{1,2})æ—¥\s+(\d{1,2}):(\d{2})$/);
const dateMatch3 = lines[4].trim().match(/^(\d{4})å¹´(\d{1,2})æœˆ(\d{1,2})æ—¥\s+(\d{1,2}):(\d{2})$/);

console.log(`  ç¬¬4è¡Œæ˜¯å¦åŒ¹é…æ—¥æœŸ: ${dateMatch2 ? 'æ˜¯' : 'å¦'}`);
console.log(`  ç¬¬5è¡Œæ˜¯å¦åŒ¹é…æ—¥æœŸ: ${dateMatch3 ? 'æ˜¯' : 'å¦'}`);

if (dateMatch3) {
  console.log(`  âœ… åº”è¯¥è¯†åˆ«ä¸ºç‰¹æ®Šæ ¼å¼(ç±»å‹2):`);
  console.log(`     ç”¨æˆ·å: "${lines[2].trim()}"`);
  console.log(`     @æåŠ: "${lines[3].trim()}"`);
  console.log(`     æ—¥æœŸæ—¶é—´: "${lines[4].trim()}"`);
}
